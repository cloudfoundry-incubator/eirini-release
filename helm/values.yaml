api:
  # registry_secret_name is the name of the secret containing the docker
  # credentials to pull LRP images
  registry_secret_name: app-registry-credentials

  # unsafe_allow_automount_service_account_token when set to true causes
  # Kubernetes to mount the service account token in the LRP and task
  # containers. This gives the code running there access to the Kubernetes
  # API with the privileges of the application service account.
  #
  # This should generally be left as the default false unless there is a
  # good reason and the implications are understood. It is required when
  # running cf-for-k8s in a kind cluster, for example.
  unsafe_allow_automount_service_account_token: false

  # tls_port is the port used by Eirini to serve its REST API over HTTPS
  # Required when serve_plaintext is set to false or omitted.
  tls_port: 8085

  # plaintext_port is the port used by Eirini to serve its REST API over
  # plain HTTP.  Required when serve_plaintext is set to true.
  plaintext_port: 8080

  # serve_plaintext specifies whether the Eirini REST API should be served
  # over plain HTTP or not.
  #
  # When serve_plaintext is false, which is the default, a secret must be
  # provided for the eirini-certs volume in core/api-deployment.yml. This
  # must have entries tls.ca, tls.crt and tls.key, for the TLS certificate
  # authority, certificate and key respectively, used to serve TLS.
  serve_plaintext: true

  # tls_secret_name is required when opi.cc_tls_disabled is false in the
  # core/api-configmap.yml. It must have keys tls.ca, tls.crt and tls.key for
  # the certificate authority, client certificate and private key respectively,
  # used for mTLS with the Cloud Controller.
  tls_secret_name: eirini-internal-tls-certs

  # prometheus_port is the port used to expose Prometheus metrics. When set
  # to 0, the metrics endpoint is disabled.
  prometheus_port: 8080

tasks:
  # completion_callback_retry_limit is the number of times Eirini will retry
  # to call the Cloud Controller completion callback in case the Cloud
  # Controller is unreachable.
  completion_callback_retry_limit: 10

  # ttl_seconds is the number of seconds Eirini will wait before deleting the
  # Job associated to a completed Task.
  ttl_seconds: 5

workloads:
    # default_namespace is the namespace used by Eirini to deploy LRPs that do
    # not specify their own namespace in the request.
    default_namespace: cf-workloads

    namespaces: []
    create_namespaces: false

cc_api:
  # host is the host used by Eirini to call the Cloud Controller.
  host: "capi.cf-system.svc.cluster.local"

  # port is the port used by Eirini to call the Cloud Controller.
  port: 9023

  # scheme is the URL scheme used by Eirini to call the Cloud Controller.
  scheme: http

  # tls_disabled specifies wether Eirini should communicate to the Cloud
  # Controller via HTTPS or not. This should be set to true if TLS is handled
  # transparently, e.g. by a service mesh.
  #
  # When tls_disabled is false, a secret must be provided for the cc-certs
  # volume via tls_secret_name. This must have entries tls.ca, tls.crt and
  # tls.key, for the TLS certificate authority, client certificate and key
  # respectively, used for mTLS with the Cloud Controller.
  tls_disabled: true

  # tls_secret_name is required when opi.cc_tls_disabled is false in the
  # core/api-configmap.yml. It must have keys tls.ca, tls.crt and tls.key for
  # the certificate authority, client certificate and private key respectively,
  # used for mTLS with the Cloud Controller.
  tls_secret_name: eirini-internal-tls-certs

routing:
  nats:
    # host is the host used by Eirini to publish route updates via NATS.
    host: "nats-client.cf-system.svc.cluster.local"

    # port is the port used by Eirini to publish route updates via NATS.
    port: 4222

    # secret_name is the name of the k8s secret holding the NATS password
    secret_name: nats-secret

    # password_key is the name of the key containing the NATS password in the
    # above secret
    password_key: nats-password

metrics:
  loggregator:
    # host is the host used by Eirini to push metrics to loggregator
    host: "doppler.cf-system.svc.cluster.local"

    # port is the port used by Eirini to push metrics to loggregator
    port: 8082

instance_index_env_injector:
  certs_secret_name: instance-index-env-injector-certs

images:
    api: eirini/opi@sha256:105bbdf095e1ac0f9075e197c75750319e9bc4821021c9a4259d902b22b7fd51
    eirini_controller: eirini/eirini-controller@sha256:13b8b4c1fd0534fbf463770b3beaffc1e7a6e14e506ae8b216bbdad4413a4bd5
    instance_index_env_injector: eirini/instance-index-env-injector@sha256:a9dbb5c9fb04caa25d5f1cc1e3a87b73ef926e437e6a9ec7e8b98ef41aeb8997
    task_reporter: eirini/task-reporter@sha256:87e21be9ce39bb0727b5a3d96c2f32d370e25d114b0dea6cae9a8fb216dbc1d4
    event_reporter: eirini/event-reporter@sha256:f1099d0326e2367270546744cae25b7c6d24340461fb58e54c2eb32c10f25f29
    route_collector: eirini/route-collector@sha256:16cba543f068c30a94ae804b0d8de476da95fc01d1757e0aa866ecb33a5c19d3
    route_pod_informer: eirini/route-pod-informer@sha256:8de2e5b0a50507559d776e4003433a83af43a14cd181a22d41014f16e05bcd46
    route_statefulset_informer: eirini/route-statefulset-informer@sha256:a39cd2cc35ed800eb56e91df80a9e294e3a5b50f8090115fe1d2f60287ec3869
    metrics_collector: eirini/metrics-collector@sha256:3376bf1fddff7416cb451495ec38d8cd6b8aaed2ff25437c87fdbf4b771f69c3
    migration: eirini/migration@sha256:8694c39155f5dd74a0a56832e45ce191270dddfbcbae94e2b4db9ee562af3f41
